![0.png](https://cdn.nlark.com/yuque/0/2024/png/27367619/1711446254897-74bb186f-c1fe-40a6-b7e3-d34e5a746833.png#averageHue=%23fdfcfa&clientId=u0de93e37-af9d-4&from=ui&id=u6df63157&originHeight=625&originWidth=1120&originalType=binary&ratio=1.125&rotation=0&showTitle=false&size=76333&status=done&style=none&taskId=u3fb17b79-a2e2-4f44-8d69-c38659e05d9&title=)

# 一、需求分析

:::info

- 设计一款应用，利用三维可视化技术（THREE.JS、Cesium.js）将学科领域知识（暂时是数学、地理）通过 学习 + 闯关 + 对战的形式表现出来，以此提高用户的空间感
- 设计尽量遵循可重构、高扩展性、迭代优化的原则，一步步完善系统
  :::

简单概括下自己的需求

- 使用三维可视化技术，结合学科知识训练用户的空间思维能力

**领域**：教育行业
**目标人群**：学生（7-22）、家长、老师、教育机构、学校
**形式**：

- 学习模块
- 闯关模式
- 多人对战模式（后期添加）

**扩展**：AI教育辅助

**基础端（学生、普通用户、会员）**

- [x] 数学：3维世界、立体几何
- [ ] 化学：化学分子式
- [x] 地理：gis 地图处理
- [ ] 生物：3d人体
- [ ] 艺术：美术（对名画解析）、音乐、捏脸
- [ ] 自助讲课（3d数字人形象）

**管理员（额外功能）**

- [x] 管理用户
- [x] 管理学习模块
- [x] 管理关卡

**把不同学科的老师制作成 2D/3D 的数字人，老师对学生进行教学任务，在完成基础的功能上，可以后期添加**

## 开发背景

随着Web技术的发展以及WebGL标准化的普及，三维可视化在网络教育领域展现出巨大的潜力。尽管市场上存在一些空间思维训练平台，但多数仍停留在传统的后台管理答题模式，且学科覆盖面有限，缺乏生动的3D元素和有效的激励机制。用户在学习过程中往往依靠抽象思维自行构建三维空间概念，降低了学习体验和效果。
现有的在线学习平台在教授数学、地理等需要较强空间认知能力的学科时，普遍未能充分利用三维可视化技术的优势，导致用户尤其是年轻学生群体难以通过传统平面媒介充分培养和锻炼三维空间思维能力。

## 系统意义

本系统正是针对这一痛点而研发，致力于填补市场空白，通过创新性的学习方式促进用户的空间感知能力和兴趣培养。借助WebGL技术，结合强大的三维图形库THREE.js与专业的地理空间库Cesium，我们旨在打造一个集学习与娱乐于一体的三维空间思维训练平台。

## 系统介绍

该系统整合了数学和地理两大学科领域的知识，采用“学习+闯关”双轨并行的模式，将原本抽象复杂的学科知识点转化为生动形象的三维互动场景。用户不仅可以通过系统获得立体直观的知识呈现，还可以在一系列精心设计的关卡挑战中实践所学，从而深化理解和记忆。

## 系统模块

- **三维模型构建模块**：将数学几何体和地理地貌等内容精准地转换为高质量的三维模型，使用户能够自由旋转、缩放、平移，全方位观察和探索。
- **学习模块**：分层次、逐步引导用户掌握基础概念和原理，结合图文、音视频等多种媒体形式，辅助三维模型进行深度解读。
- **闯关系统**：设计丰富多样的任务关卡，关卡难度由浅入深，涵盖各类知识点，每个关卡都融入了解题目标和空间思维挑战，成功过关后给予用户及时的反馈和奖励。
- **激励系统**：通过积分、徽章、排行榜等形式激发用户的积极性和参与度，鼓励用户持续深入学习并分享成就。
- **适应性优化模块**：确保系统能够在各种操作系统、浏览器及硬件配置下稳定、流畅运行，同时针对不同的用户需求和设备性能进行动态性能优化。

# 二、技术调研

调研和本项目相关的技术方向、技术点、做好知识储备

# 三、技术探索

调研市场上已有的技术方案，摸索成熟的技术路线方案

## 3.1 问答对话

[ChatGPT Next Web](https://robot.vrteam.top/)

- 提前内置多种角色和提示词
- 让 ai 响应不同的内容，如：不同学科的老师、十万个为什么问答助手

## 3.2 立体辅助教学

[【毕业设计】基于three.js的立体几何辅助教学平台\_哔哩哔哩\_bilibili](https://www.bilibili.com/video/BV13W4y1H77M/)

- 主要用于数学学科相关的教学，包括基础集合体、自定义模型、几何题目等，有助于加强孩子的空间思维能力

## 3.3 GIS 开发

- 这里可以进行二维/三维地图的切换
- 支持地点检索定位，让**地理**不再局限于课本上

## 3.4 艺术创作

- 支持各种天马行空的想法，生成各种图片、音乐、模型等艺术作品

# 四、技术方案

根据上方的资料和分析点，形成自己的技术方案

# 五、技术选型

根据技术方案的内容，开始选取相应的技术栈，包括前端、后端、UI、算法、第三方平台、第三方库、参考的开源项目等

## 5.1 构思需求

:::info

1. 这个功能有没有是否影响你项目的上线？（只要不影响，都先不做）
2. 功能的实用性、是否贴合主题
   :::

## 5.2 优先级

1. 完成产品的整体 UI 设计图
2. 后台环境配置，基础用户接口
3. 前台环境配置，对接后台通信
4. 后台接入 AI ，开发基础问答接口
5. 前台完成基础模版搭建，对接 AI 数据接口，完成语文学科的基础功能

.......

## 5.3 技术准则

:::info
**在有限的条件和特点场景下下，寻求技术最优解**
:::

1. 不要重复造轮子，尽早做技术选型
2. 从系统的大类细分，需要前端/后端/客户端/......，大的方向再细分技术
3. 要从实际出发，贴合业务和项目。比如老项目要考虑版本兼容性，新项目结合实际需求和现有资源
4. 业务量级、核心流程和关键数据、性能偏向哪些方面
5. 从自己/团队现有的技术栈考虑，不要引入冷门的技术

## 5.4 后端技术栈

**java ? node ? python**
考虑后续需要对接 人工智能 API，加上系统对于逻辑性和类设计比较注重，所以选择 Python 技术栈作为主选

**主要技术：**

- python 3.10
- Django 框架分发接口

**依赖库**：

## 5.5 前端技术栈

**主要技术：**

- Vue 3 前端开发，主流
- Vite 2 前端构建工具，新兴 / 优秀，本地编译速度很快，提高开发效率
- Ant Design Vue 3 组件库（不用 Element UI？用的熟练，ant design 主流，支持 vue 和 react，更通用）
- Pinia 2 状态管理（Vuex，pinia 兼容 vuex）
- TypeScript 类型控制（项目规范，编辑器 / 开发工具会给你提示问题）
- Eslint 代码规范控制（项目规范，自动语法校验）
- Prettier 美化代码（项目规范，自动格式化代码）

**依赖库：**

- axios 网络请求
- dayjs 时间处理

# 六、系统设计

系统介绍：需要包含市场上背景、趋势、现状，我做这个系统的意义、介绍、模块、流程

目前市场上已有的空间思维训练平台较少，通过都是普通的后台管理系统答题的模式。这类应用，覆盖学科较少、很少涉及3D思维、没有趣味性和激励系统，只能靠用户自己答题并在脑海中形成3D场景。但是，随着网页 3D 化开发的趋势，越来越多的用户希望能够将枯燥的学科知识通过三维可视化的形式呈现。
本系统通过 WebGL 作为三维引擎，在此基础上使用 THREE 、Cesium封装库，将学科领域知识（暂时是数学、地理）通过 学习 + 闯关 的形式表现出来，以此提高用户的空间感和趣味性。

## 6.1 设计准则

![5.png](https://cdn.nlark.com/yuque/0/2024/png/27367619/1708255646001-b4833829-3721-4e81-9978-24e75ed005f2.png#averageHue=%23fef9f8&clientId=u60a2fe24-d7a9-4&from=ui&id=uf630cd58&originHeight=920&originWidth=1915&originalType=binary&ratio=0.8999999761581421&rotation=0&showTitle=false&size=131776&status=done&style=none&taskId=uf5ca32ac-8740-4b38-9379-cbc99980836&title=)
[https://yiming_chang.gitee.io/vue-pure-admin/#/welcome](https://yiming_chang.gitee.io/vue-pure-admin/#/welcome)

- 系统主要采用前后端分离的形式进行开发
- 前台页面遵循后台管理系统的结构，采用左侧树形结构菜单按照**学科进行分类？模块分类？**

对系统进行详细设计，要求每个大的功能点给出具体的 UI 原型图、流程图、设计图、伪代码思路等等

1. **设计准则**
2. **详细设计**
3. **原型设计**
4. **数据库设计**
5. **后端设计**
6. **前端设计**
7. **测试**
8. **部署上线**
9. **运行维护**

## 6.2 详细设计

![image.png](https://cdn.nlark.com/yuque/0/2024/png/27367619/1709035295349-1fe620da-b14a-4c3c-8e73-1cc7cef081d0.png#averageHue=%23fbfbf7&clientId=ud72094df-4594-4&from=paste&height=670&id=ucc59e191&originHeight=603&originWidth=554&originalType=binary&ratio=0.8999999761581421&rotation=0&showTitle=false&size=1339096&status=done&style=none&taskId=u0959a125-8c53-447e-bbb6-5514eb50872&title=&width=615.5555718622094)

### 6.2.1 用户

:::info

- 用户分为普通用户和会员（等级细分，先扩展留着，后续添加），用户可以对空间思维训练平台的所有基础功能进行使用
  :::

1. 数学
   1. 学习模块
   2. 闯关模块
2. 地理
   1. 学习模块
   2. 闯关模块
3. 个人中心

### 6.2.2 管理员

:::info

- 管理员分为普通管理员和超级管理员（只有一个）
- 普通管理员对用户、游戏、关卡、对战等模块进行管理操作
- 超级管理员拥有管理员的一切权限外，对普通管理员进行管理操作（留着扩展，目前先不考虑）
  :::

1. 用户管理
2. 学习模块管理
3. 关卡管理
4. 个人中心

### 6.2.3 激励措施

:::info

- 如何根据用户的闯关记录来判断是否达到空间思维训练标准
  - 评分标准
  - 激励措施
  - 评估报告
    :::

### 6.2.4 系统结构

用户

1. 页面层
   1. PC 页面
   2. H5 页面
2. 业务层
   1. 控制器
   2. 服务接口
   3. 业务逻辑
3. 数据层
   1. 数据库
   2. 缓存管理
4. 基础设施
   1. 操作系统
   2. 云服务器

### 6.2.5 功能结构

1. 登录模块
   1. 用户注册
   2. 用户登录
   3. 账号管理
2. 学习模块
   1. 课程列表
   2. 官方案例
   3. 立体交互
   4. 趣味游戏
3. 闯关模块
   1. 关卡设计
   2. 反馈系统
   3. 荣誉排名
4. 管理模块
   1. 系统设置
   2. 数据分析
   3. 用户管理
   4. 内容管理
   5. 关卡管理
5. 个人中心
   1. 个人信息
   2. 学习记录
   3. 我的成就

## 6.3 原型设计

![](https://cdn.nlark.com/yuque/0/2024/jpeg/27367619/1708257397669-417e98f2-3b54-4d0c-9d36-9a1d9f8d5ff0.jpeg)

![](https://cdn.nlark.com/yuque/0/2024/jpeg/27367619/1708257514543-c059c202-1c35-43ff-844c-84826d0500b7.jpeg)

## 6.4 数据库设计

列举出需要哪几张表？

- 用户表（用户id、账号名、密码、昵称、头像、会员等级、金币数、角色id）
- 角色表（角色id、权限模块）
- 学科表（学科id、学科名、学习模块）
- 关卡表（关卡id、学科id、关卡名称、描述、难度等级、分数区间、勋章id）
- 题目表（题目id、关卡id、题目内容、答案、评分id）
- 闯关记录表（闯关记录id、用户id、关卡id、开始时间、结束时间、闯关结果、得分、评分标准id）
- 勋章表（勋章id、名称、描述、内容、获得人数）
- 评分标准（评分id、等级、描述）

- 用户弱关联角色表 一对多
- 关卡强关联学科表 多对一
- 题目表强关联关卡表 多对一
- 闯关记录强关联用户表、关卡表 一对一
- 勋章弱关联关卡表 一对多
- 评分标准弱关联闯关记录 多对多

网上参考一下答题的应用设计，和这个有点像

## 6.5 命名规范

- 前端开发：spatialThinking-frontend
- 后端开发：spatialThinking-backend

## 6.6 后端设计

## 6.7 前端设计

开发分支：dev_spatialThinking_1

Spatial Thinking

# 七、问题评估

1.  数据模型处理
2.  三维引擎接入
3.  闯关系统开发
4.  系统稳定性
5.  性能后期优化
6.  商业落地？
